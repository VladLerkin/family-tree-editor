# Настройка Yandex SpeechKit для распознавания речи

## Что такое Yandex SpeechKit?

Yandex SpeechKit — это облачный сервис распознавания и синтеза речи от Яндекса. Он отлично подходит для распознавания русского языка и языков стран СНГ (украинский, казахский, узбекский и др.).

## Преимущества Yandex SpeechKit

- ✅ **Отличная поддержка русского языка** - одна из лучших на рынке
- ✅ **Поддержка языков СНГ** - украинский, казахский, узбекский, белорусский и др.
- ✅ **Быстрая обработка** - низкая задержка
- ✅ **Доступные цены** - первые 15 часов в месяц бесплатно
- ✅ **Высокая точность** - особенно для русского языка

## Как получить API ключ

### Шаг 1: Создание аккаунта Yandex Cloud

1. Перейдите на [cloud.yandex.ru](https://cloud.yandex.ru)
2. Нажмите **"Войти в консоль"** или **"Попробовать бесплатно"**
3. Войдите через Яндекс ID или создайте новый аккаунт
4. Примите условия использования

### Шаг 2: Создание платежного аккаунта

1. В консоли Yandex Cloud создайте **платежный аккаунт**
2. Для физических лиц достаточно указать базовую информацию
3. **Важно**: Первые 15 часов распознавания речи в месяц **бесплатны**
4. Привязка карты требуется, но списания не будет в пределах бесплатного лимита

### Шаг 3: Создание API ключа

1. В консоли Yandex Cloud перейдите в раздел **"Сервисные аккаунты"**
2. Нажмите **"Создать сервисный аккаунт"**
3. Укажите имя (например, `speechkit-service`)
4. Добавьте роль **`ai.speechkit-stt.user`** (для распознавания речи)
5. Нажмите **"Создать"**

6. Откройте созданный сервисный аккаунт
7. Перейдите на вкладку **"API-ключи"**
8. Нажмите **"Создать API-ключ"**
9. Скопируйте и сохраните ключ (он показывается только один раз!)

**Формат API ключа**: `AQVNxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

### Шаг 4: Настройка в приложении

1. Откройте приложение Family Tree
2. Откройте меню (три точки) → **"AI Settings..."**
3. В разделе **"Transcription Settings"**:
   - **Provider**: Выберите **"Yandex SpeechKit"**
   - **API Key**: Вставьте скопированный API ключ
   - **Language**: Выберите язык (например, `ru` для русского)
4. Нажмите **"Save"**

## Поддерживаемые языки

Yandex SpeechKit поддерживает следующие языки:

| Язык | Код | Качество |
|------|-----|----------|
| Русский | `ru` | ⭐⭐⭐⭐⭐ Отлично |
| Английский | `en` | ⭐⭐⭐⭐ Хорошо |
| Турецкий | `tr` | ⭐⭐⭐⭐ Хорошо |
| Украинский | `uk` | ⭐⭐⭐⭐ Хорошо |
| Казахский | `kk` | ⭐⭐⭐⭐ Хорошо |
| Узбекский | `uz` | ⭐⭐⭐⭐ Хорошо |
| Белорусский | `be` | ⭐⭐⭐ Средне |
| Армянский | `hy` | ⭐⭐⭐ Средне |
| Грузинский | `ka` | ⭐⭐⭐ Средне |
| Немецкий | `de` | ⭐⭐⭐ Средне |
| Французский | `fr` | ⭐⭐⭐ Средне |
| Испанский | `es` | ⭐⭐⭐ Средне |

## Стоимость

- **Бесплатно**: Первые 15 часов распознавания в месяц
- **Платно**: После превышения лимита — ~₽1.20 за минуту

Для личного использования бесплатного лимита более чем достаточно.

## Сравнение с другими провайдерами

| Провайдер | Русский язык | Скорость | Стоимость | Рекомендация |
|-----------|--------------|----------|-----------|--------------|
| **Yandex SpeechKit** | ⭐⭐⭐⭐⭐ | Быстро | 15ч бесплатно | ✅ Лучший для русского |
| **Google Speech** | ⭐⭐⭐⭐ | Быстро | 60мин бесплатно | ✅ Универсальный |
| **OpenAI Whisper** | ⭐⭐⭐⭐ | Медленно | $0.006/мин | ✅ Много языков |

## Устранение неполадок

### Ошибка "API key is required"
- Проверьте, что вы скопировали API ключ полностью
- Убедитесь, что в настройках выбран провайдер "Yandex SpeechKit"

### Ошибка "Invalid API key"
- Проверьте, что API ключ действителен
- Убедитесь, что сервисному аккаунту назначена роль `ai.speechkit-stt.user`

### Ошибка "Quota exceeded"
- Вы превысили бесплатный лимит 15 часов в месяц
- Проверьте использование в консоли Yandex Cloud
- Подождите до начала следующего месяца или пополните баланс

### Плохое качество распознавания
- Говорите четче и громче
- Уменьшите фоновый шум
- Убедитесь, что выбран правильный язык в настройках

## Полезные ссылки

- [Документация Yandex SpeechKit](https://cloud.yandex.ru/docs/speechkit/)
- [Консоль Yandex Cloud](https://console.cloud.yandex.ru/)
- [Цены на SpeechKit](https://cloud.yandex.ru/docs/speechkit/pricing)
- [Поддерживаемые языки](https://cloud.yandex.ru/docs/speechkit/stt/models)
